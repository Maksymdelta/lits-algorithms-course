% -------------------------------
% Custom formatting for headings
% -------------------------------
\usepackage{titlesec}

% Chapters
\titleformat
    {\chapter}                      % command
    [display]                       % shape
    {\large\bfseries}               % format
    {\vspace{-3em} Модуль \thechapter}            % label
    {0.5ex}                         % sep
    {
        \rule{\textwidth}{1.5pt}
        \vspace{0.5ex}
        \centering
        \mdseries
        \itshape
    }                               % before-code
    [
        \vspace{-1.7ex}
        \rule{\textwidth}{0.3pt}
    ]                               % after-code

% Sections
\titleformat
    {\section}                      % command
    {\normalsize\bfseries}          % format
    {\thesection}                   % label
    {1em}                           % sep
    {}                              % before-code
    []                              % after-code

% Subsections
\titleformat
    {\subsection}                   % command
    {\normalsize\bfseries\itshape}  % format
    {\thesubsection}                % label
    {1em}                           % sep
    {}                              % before-code
    []                              % after-code
